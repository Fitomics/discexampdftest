<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Discovery Exam PDF</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/interact.js/1.10.11/interact.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Glacial+Indifference&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Glacial Indifference', sans-serif;
      margin: 0;
      padding: 20px;
      background: #f7f9fb;
      text-align: center;
      color: #1B263B;
    }
    .page {
      position: relative;
      width: 100%;
      max-width: 850px;
      aspect-ratio: 2550 / 3300;
      margin: 30px auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      padding-top: 100px;
    }
    .title-text {
      margin: 0 auto 20px auto;
      font-size: 36px;
      font-weight: bold;
      text-align: center;
    }
    .center-title {
      position: absolute;
      top: 35%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 48px;
      font-weight: bold;
    }
    .graph-container {
      position: relative;
      width: 90%;
      margin: 0 auto;
      padding: 24px;
      border-radius: 10px;
      background-color: #ffffff;
      border: 1px solid #c4c7cc;
    }
    .graph-image {
      width: 100%;
      max-height: 500px;
      object-fit: contain;
      border-radius: 6px;
      border: 1px solid #c4c7cc;
    }
    .arrow {
      position: absolute;
      width: 28px;
      height: 28px;
      background-color: #C19962;
      clip-path: polygon(50% 100%, 0 0, 100% 0);
      transform: rotate(180deg);
      z-index: 11;
    }
    .arrow::after {
      content: '';
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 40px;
      background-color: #C19962;
      z-index: -1;
    }
    .data-field, .value-field, .meta-field {
      font-size: 16px;
      width: 60%;
      margin: 10px auto;
      padding: 10px 14px;
      text-align: center;
      border: 1px solid #ccd5df;
      border-radius: 6px;
      font-family: 'Glacial Indifference', sans-serif;
      box-shadow: 0 2px 6px rgba(0,0,0,0.03);
    }
    .unit-label {
      font-size: 16px;
      margin-left: 8px;
      vertical-align: middle;
    }
    .table-wrapper {
      width: 80%;
      margin: 0 auto;
    }
    .table-wrapper table {
      width: 100%;
      border-collapse: collapse;
    }
    .table-wrapper th, .table-wrapper td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: left;
    }
    button {
      margin-top: 20px;
      padding: 12px 28px;
      font-size: 16px;
      background-color: #1B263B;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="pdfWrapper">
  <div class="page">
    <div class="center-title">Discovery Exam Report</div>
    <input class="meta-field" placeholder="Enter Name">
    <input class="meta-field" placeholder="Enter Date">
  </div>

  <div class="page">
    <div class="title-text">Exam Summary Table</div>
    <div class="table-wrapper">
      <table>
        <tr><th>Variable</th><th>Value</th></tr>
        <tr><td>Body Mass Index (BMI)</td><td>24.3 kg/m²</td></tr>
        <tr><td>Fat Mass Index (FMI)</td><td>6.2 kg/m²</td></tr>
        <tr><td>Fat-Free Mass Index (FFMI)</td><td>17.8 kg/m²</td></tr>
        <tr><td>Grip Strength</td><td>72.5 kg</td></tr>
        <tr><td>Heart Rate Recovery</td><td>26 bpm</td></tr>
        <tr><td>Resting Heart Rate</td><td>62 bpm</td></tr>
        <tr><td>Resting Metabolic Rate</td><td>1850 kcal/day</td></tr>
        <tr><td>Systolic BP</td><td>118 mmHg</td></tr>
        <tr><td>Diastolic BP</td><td>76 mmHg</td></tr>
        <tr><td>VO₂ Max Percentile</td><td>78%</td></tr>
      </table>
    </div>
  </div>

  <!-- Insert other pages here -->
  <!-- Example: Functional Strength -->
  <div class="page">
    <div class="title-text">Functional Strength Scores</div>
    <div class="graph-container">
      <input class="value-field" placeholder="Total Strength Score"><span class="unit-label">score</span>
      <input class="value-field" placeholder="Core Strength Score"><span class="unit-label">score</span>
      <input class="value-field" placeholder="Lower Strength Score"><span class="unit-label">score</span>
      <input class="value-field" placeholder="Upper Strength Score"><span class="unit-label">score</span>
      <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/bellcurve.png" alt="Functional Strength Bell Curve">
      <input class="data-field" placeholder="Type notes here...">
    </div>
  </div>

  <div class="page">
  <div class="title-text">Body Mass Index</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/BMI.png" alt="BMI Graph">
    <div class="arrow" style="top: 60%; left: 30%;"></div>
    <div class="arrow" style="top: 60%; left: 50%;"></div>
    <div class="arrow" style="top: 60%; left: 70%;"></div>
    <input class="value-field" placeholder="24.3"><span class="unit-label">kg/m²</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">Fat Mass Index / Fat-Free Mass Index</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/FMI_FFMI.png" alt="FMI FFMI Graph">
    <div class="arrow" style="top: 60%; left: 40%;"></div>
    <div class="arrow" style="top: 60%; left: 60%;"></div>
    <input class="value-field" placeholder="6.2"><span class="unit-label">kg/m²</span>
    <input class="value-field" placeholder="17.8"><span class="unit-label">kg/m²</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">Grip Strength</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/GripStrength.png" alt="Grip Strength Graph">
    <div class="arrow" style="top: 60%; left: 50%;"></div>
    <input class="value-field" placeholder="72.5"><span class="unit-label">kg</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">Heart Rate Recovery</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/HRR.png" alt="HRR Graph">
    <div class="arrow" style="top: 60%; left: 50%;"></div>
    <input class="value-field" placeholder="26"><span class="unit-label">bpm</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">Resting Heart Rate</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/RHR.png" alt="RHR Graph">
    <div class="arrow" style="top: 60%; left: 50%;"></div>
    <input class="value-field" placeholder="62"><span class="unit-label">bpm</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">Resting Metabolic Rate</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/RMRINT.png" alt="RMR Graph">
    <div class="arrow" style="top: 60%; left: 50%;"></div>
    <input class="value-field" placeholder="1850"><span class="unit-label">kcal/day</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">Systolic / Diastolic Blood Pressure</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/SBPDBP.png" alt="Blood Pressure Graph">
    <div class="arrow" style="top: 60%; left: 50%;"></div>
    <input class="value-field" placeholder="118"><span class="unit-label">mmHg</span>
    <input class="value-field" placeholder="76"><span class="unit-label">mmHg</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">VO<sub>2</sub> Max Percentile</div>
  <div class="graph-container">
    <img class="graph-image" src="https://raw.githubusercontent.com/Fitomics/discexampdftest/main/VO2Percentile.png" alt="VO2 Graph">
    <div class="arrow" style="top: 60%; left: 50%;"></div>
    <input class="value-field" placeholder="78"><span class="unit-label">%</span>
    <input class="data-field" placeholder="Type notes here...">
  </div>
</div>

<div class="page">
  <div class="title-text">Initial Nutrition Targets</div>
  <div class="table-wrapper">
    <table>
      <tr><th>Target</th><th>Value</th></tr>
      <tr><td>Energy Target</td><td><input class='value-field' placeholder=''><span class='unit-label'>kcal/day</span></td></tr>
      <tr><td>Protein Target</td><td><input class='value-field' placeholder=''><span class='unit-label'>g/day</span></td></tr>
      <tr><td>Carbohydrate Target</td><td><input class='value-field' placeholder=''><span class='unit-label'>g/day</span></td></tr>
      <tr><td>Fat Target</td><td><input class='value-field' placeholder=''><span class='unit-label'>g/day</span></td></tr>
      <tr><td>Fiber Target</td><td><input class='value-field' placeholder=''><span class='unit-label'>g/day</span></td></tr>
      <tr><td>Fluid Target</td><td><input class='value-field' placeholder=''><span class='unit-label'>ml/day</span></td></tr>
    </table>
  </div>
</div>

</div>

<button onclick="generatePDF()">Download PDF Preview</button>

<script>
  async function generatePDF() {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF('portrait', 'pt', 'letter');
    const pages = document.getElementById('pdfWrapper').children;

    for (let i = 0; i < pages.length; i++) {
      const canvas = await html2canvas(pages[i], { scale: 2 });
      const imgData = canvas.toDataURL('image/png');
      pdf.addImage(imgData, 'PNG', 0, 0, 612, 792);
      if (i < pages.length - 1) pdf.addPage();
    }

    pdf.save('discovery_exam_report.pdf');
  }
</script>

</body>
</html>
